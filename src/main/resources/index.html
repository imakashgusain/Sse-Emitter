<html>
<head>
<title>Real Time Events Demo</title>
    <link
      rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src = "https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js">  </script>
</head>
<style>
    .navbar{
    min-height:80px;
    }
    .navbar-brand{
    margin: auto;
    font-size:2.6rem;
    }
    .panel{
    padding-top: 20px;
    padding-bottom: 20px;
    }
    h3{
    color:blue;
    }
    .pstyle{
    font-size:2rem;
    font-family:verdana, sans-serif;
    }
</style>
<script>
    $(document).ready(function(){
  var urlEndPoint = 'http://localhost:8080/subscribe';
  var eventSource = new EventSource(urlEndPoint);
console.log("hi")
  eventSource.addEventListener("testTitle", function(event) {
  console.log("hi")
  console.log(event.data)
  var articleData= JSON.parse(event.data);
  console.log("event :", event);
  addBlock(articleData.title, articleData.text);
  })

  })

  function addBlock(title, text){
  var a = document.createElement("article");
  var h = document.createElement("H3");
  var t = document.createElement("testtitle");
  h.appendChild(t);
  var para = document.createElement("p");
  para.innerText = text;
  a.appendChild(h);
  a.appendChild(para);
  document.getElementById("pack").appendChild(a);


  }
</script>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <div class="navbar-brand">Latest news here</div>
            </div>
        </div>
    </nav>
<div class="container pstyle text-center"  id="pack">
    <div class="panel panel-primary">
        News Timeline
    </div>
</div>
</body>
</html>